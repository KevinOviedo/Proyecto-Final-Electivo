{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\TALLER DESARROLLO WEB\\\\proyecto semestral\\\\proyecto-taller-20202\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Redirect } from \"react-router-dom\";\nimport axios from 'axios';\nimport SignIn from './views/login';\nimport MenuPrincipal from './views/menuprincipal';\nexport default function App() {\n  const [autorizado, setAutorizado] = useState(false);\n  const [remember, setRemember] = useState(false);\n  useEffect(() => {\n    renderizadoCondicional();\n  }, []);\n\n  function renderizadoCondicional() {\n    axios.post(\"http://localhost:5000/api/usuario/vigencia1\").then(response => {\n      console.log(response.data);\n\n      if (response.status == 200) {\n        setAutorizado(true);\n        let recordar = localStorage.getItem('RECORDAR_APP_TALLER_UBB');\n\n        if (recordar == \"remember\") {\n          setRemember(true);\n        }\n      }\n    }).catch(err => {\n      if (err.response) {\n        if (err.response.status == 401) {\n          setAutorizado(false); //   window.location='/login'\n        }\n\n        console.log(err.response.data.mensaje);\n      } else if (err.request) {// client never received a response, or request never left\n      } else {// anything else\n        }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, remember ? /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 19\n    }\n  }) : \"\", /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, autorizado ? /*#__PURE__*/React.createElement(MenuPrincipal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 23\n    }\n  }) : /*#__PURE__*/React.createElement(SignIn, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 43\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SignIn, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }))));\n}\n\nfunction Home() {\n  return /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 10\n    }\n  }, \"Home\");\n}\n\nfunction About() {\n  return /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 10\n    }\n  }, \"About\");\n}\n\nfunction Users() {\n  return /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 10\n    }\n  }, \"Users\");\n}","map":{"version":3,"sources":["C:/xampp/htdocs/TALLER DESARROLLO WEB/proyecto semestral/proyecto-taller-20202/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Router","Switch","Route","Redirect","axios","SignIn","MenuPrincipal","App","autorizado","setAutorizado","remember","setRemember","renderizadoCondicional","post","then","response","console","log","data","status","recordar","localStorage","getItem","catch","err","mensaje","request","Home","About","Users"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SACEC,aAAa,IAAIC,MADnB,EAEEC,MAFF,EAGEC,KAHF,EAIEC,QAJF,QAKO,kBALP;AAMA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,OAAOC,aAAP,MAA0B,uBAA1B;AAEA,eAAe,SAASC,GAAT,GAAe;AAC5B,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BZ,QAAQ,CAAC,KAAD,CAA5C;AACA,QAAM,CAACa,QAAD,EAAWC,WAAX,IAA0Bd,QAAQ,CAAC,KAAD,CAAxC;AACAC,EAAAA,SAAS,CAAC,MAAM;AAEdc,IAAAA,sBAAsB;AAEvB,GAJQ,EAIN,EAJM,CAAT;;AAMA,WAASA,sBAAT,GAAkC;AAEhCR,IAAAA,KAAK,CACFS,IADH,CACQ,6CADR,EAEGC,IAFH,CAGKC,QAAD,IAAc;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;;AACA,UAAIH,QAAQ,CAACI,MAAT,IAAmB,GAAvB,EAA4B;AAC1BV,QAAAA,aAAa,CAAC,IAAD,CAAb;AAGA,YAAIW,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,yBAArB,CAAf;;AACA,YAAIF,QAAQ,IAAI,UAAhB,EAA4B;AACxBT,UAAAA,WAAW,CAAC,IAAD,CAAX;AACH;AACF;AACF,KAdL,EAgBGY,KAhBH,CAgBUC,GAAD,IAAS;AACd,UAAIA,GAAG,CAACT,QAAR,EAAkB;AAChB,YAAIS,GAAG,CAACT,QAAJ,CAAaI,MAAb,IAAuB,GAA3B,EAAgC;AAC9BV,UAAAA,aAAa,CAAC,KAAD,CAAb,CAD8B,CAE9B;AAED;;AACDO,QAAAA,OAAO,CAACC,GAAR,CAAYO,GAAG,CAACT,QAAJ,CAAaG,IAAb,CAAkBO,OAA9B;AACD,OAPD,MAOO,IAAID,GAAG,CAACE,OAAR,EAAiB,CACtB;AACD,OAFM,MAEA,CACL;AACD;AAEF,KA9BH;AAgCD;;AAID,sBAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGhB,QAAQ,gBAAG,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,GAA2B,EADtC,eAME,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACCF,UAAU,gBAAG,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,gBAAuB,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADlC,CAHF,eAME,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CANF,CANF,CAFF;AAuBD;;AAED,SAASmB,IAAT,GAAgB;AACd,sBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AAED,SAASC,KAAT,GAAiB;AACf,sBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAP;AACD;;AAED,SAASC,KAAT,GAAiB;AACf,sBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAP;AACD","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect\n} from \"react-router-dom\";\nimport axios from 'axios';\nimport SignIn from './views/login';\nimport MenuPrincipal from './views/menuprincipal'\n\nexport default function App() {\n  const [autorizado, setAutorizado] = useState(false);\n  const [remember, setRemember] = useState(false);\n  useEffect(() => {\n\n    renderizadoCondicional();\n\n  }, []);\n\n  function renderizadoCondicional() {\n\n    axios\n      .post(\"http://localhost:5000/api/usuario/vigencia1\")\n      .then(\n        (response) => {\n          console.log(response.data);\n          if (response.status == 200) {\n            setAutorizado(true)\n     \n\n            let recordar = localStorage.getItem('RECORDAR_APP_TALLER_UBB')\n            if (recordar == \"remember\") {\n                setRemember(true);\n            }\n          }\n        }\n      )\n      .catch((err) => {\n        if (err.response) {\n          if (err.response.status == 401) {\n            setAutorizado(false)\n            //   window.location='/login'\n     \n          }\n          console.log(err.response.data.mensaje)\n        } else if (err.request) {\n          // client never received a response, or request never left\n        } else {\n          // anything else\n        }\n\n      });\n\n  }\n\n\n\n  return (\n\n    <Router>\n      {remember ? <Redirect to=\"/menu\"/> :\"\"}\n\n\n      {/* A <Switch> looks through its children <Route>s and\n            renders the first one that matches the current URL. */}\n      <Switch>\n\n\n        <Route path=\"/menu\">\n        {autorizado ? <MenuPrincipal /> : <SignIn />}\n        </Route>\n        <Route path=\"/\">\n          <SignIn />\n        </Route>\n\n\n      </Switch>\n\n    </Router>\n  );\n}\n\nfunction Home() {\n  return <h2>Home</h2>;\n}\n\nfunction About() {\n  return <h2>About</h2>;\n}\n\nfunction Users() {\n  return <h2>Users</h2>;\n}\n"]},"metadata":{},"sourceType":"module"}