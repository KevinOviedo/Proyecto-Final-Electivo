{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\TALLER DESARROLLO WEB\\\\proyecto semestral\\\\proyecto-taller-20202\\\\src\\\\views\\\\Plibros.js\";\nimport React, { useState, useEffect } from 'react';\nimport MaterialTable from 'material-datatable';\nimport axios from 'axios';\nimport { useForm } from 'react-hook-form';\nexport default function MaterialTable1() {\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n  const [item, setItem] = useState([]);\n  const columns = [{\n    name: \"ID Libro\",\n    field: \"id_libro\",\n    options: {\n      filter: true,\n      sort: true\n    }\n  }, {\n    name: \"Titulo\",\n    field: \"titulo\",\n    options: {\n      filter: true,\n      sort: false\n    }\n  }, {\n    name: 'Autor',\n    field: 'autor'\n  }, {\n    name: 'Idioma',\n    field: 'idioma'\n  }];\n  useEffect(() => {\n    cargar();\n  }, []);\n\n  const onSubmit = data => {\n    axios.post(\"http://localhost:5000/api/guardarLibro\", data).then(response => {\n      console.log(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const cargar = async () => {\n    const {\n      data\n    } = await axios.get(\"http://localhost:5000/api/todosLibros\");\n    setItem(data.libro);\n    return null;\n  };\n\n  console.log(errors);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 10\n    }\n  }, \"Ingreso de Libros\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"id libro. ejem: x-1,x-2,a-10...\",\n    name: \"id_libro\",\n    ref: register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"titulo del libro\",\n    name: \"titulo\",\n    ref: register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Autor del libro\",\n    name: \"autor\",\n    ref: register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Idioma\",\n    name: \"idioma\",\n    ref: register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(MaterialTable, {\n    title: \"Tabla de libros\",\n    columns: columns,\n    data: item,\n    editable: {\n      onRowAdd: newData => new Promise(resolve => {\n        setTimeout(() => {\n          resolve();\n          setItem(prevState => {\n            const data = [...prevState.data];\n            data.push(newData);\n            return { ...prevState,\n              data\n            };\n          });\n        }, 600);\n      }),\n      onRowUpdate: (newData, oldData) => new Promise(resolve => {\n        setTimeout(() => {\n          resolve();\n\n          if (oldData) {\n            setItem(prevState => {\n              const data = [...prevState.data];\n              data[data.indexOf(oldData)] = newData;\n              return { ...prevState,\n                data\n              };\n            });\n          }\n        }, 600);\n      }),\n      onRowDelete: oldData => new Promise(resolve => {\n        setTimeout(() => {\n          resolve();\n          setItem(prevState => {\n            const data = [...prevState.data];\n            data.splice(data.indexOf(oldData), 1);\n            return { ...prevState,\n              data\n            };\n          });\n        }, 600);\n      })\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }));\n}","map":{"version":3,"sources":["C:/xampp/htdocs/TALLER DESARROLLO WEB/proyecto semestral/proyecto-taller-20202/src/views/Plibros.js"],"names":["React","useState","useEffect","MaterialTable","axios","useForm","MaterialTable1","register","handleSubmit","errors","item","setItem","columns","name","field","options","filter","sort","cargar","onSubmit","data","post","then","response","console","log","catch","error","get","libro","onRowAdd","newData","Promise","resolve","setTimeout","prevState","push","onRowUpdate","oldData","indexOf","onRowDelete","splice"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport MaterialTable from 'material-datatable';\r\nimport axios from 'axios';\r\nimport { useForm } from 'react-hook-form';\r\n\r\nexport default function MaterialTable1() {\r\n    \r\n    const { register, handleSubmit, errors } = useForm();\r\n\r\n    const [item, setItem] = useState([]);\r\n\r\n    const columns = [\r\n      {\r\n       name: \"ID Libro\",\r\n       field: \"id_libro\",\r\n       options: {\r\n        filter: true,\r\n        sort: true,\r\n       }\r\n      },\r\n      {\r\n       name: \"Titulo\",\r\n       field: \"titulo\",\r\n       options: {\r\n        filter: true,\r\n        sort: false,\r\n       }\r\n      },\r\n      {\r\n        name: 'Autor', \r\n        field: 'autor'\r\n      },\r\n      {\r\n        name: 'Idioma', \r\n        field: 'idioma'\r\n      }\r\n    \r\n     ];\r\n\r\n  useEffect(() => {\r\n    cargar();\r\n  }, []);\r\n\r\n  const onSubmit = data => {\r\n    axios\r\n    .post(\"http://localhost:5000/api/guardarLibro\", data)\r\n    .then(\r\n      (response)=>{\r\n        console.log(response.data);\r\n      }\r\n    )\r\n    .catch((error) => {\r\n      console.log(error);\r\n    })\r\n  }\r\n\r\n  const cargar = async() =>{\r\n    const { data } = await axios.get(\"http://localhost:5000/api/todosLibros\");\r\n\r\n    setItem(data.libro);\r\n    return null;\r\n  }\r\n  console.log(errors);\r\n  return (\r\n\r\n     <div> \r\n         <h1>Ingreso de Libros</h1>\r\n    <form onSubmit={handleSubmit(onSubmit)}>\r\n      <input type=\"text\" placeholder=\"id libro. ejem: x-1,x-2,a-10...\" name=\"id_libro\" ref={register} />\r\n      <input type=\"text\" placeholder=\"titulo del libro\" name=\"titulo\" ref={register} />\r\n      <input type=\"text\" placeholder=\"Autor del libro\" name=\"autor\" ref={register} />\r\n      <input type=\"text\" placeholder=\"Idioma\" name=\"idioma\" ref={register} />\r\n\r\n      <input type=\"submit\" />\r\n    </form>\r\n\r\n        <MaterialTable\r\n        title=\"Tabla de libros\"\r\n        columns={columns}\r\n        data={item}\r\n        editable={{\r\n            onRowAdd: (newData) =>\r\n            new Promise((resolve) => {\r\n                setTimeout(() => {\r\n                    resolve();\r\n                    setItem((prevState) => {\r\n                    const data = [...prevState.data];\r\n                    data.push(newData);\r\n                    return { ...prevState, data };\r\n                });\r\n                }, 600);\r\n            }),\r\n            onRowUpdate: (newData, oldData) =>\r\n            new Promise((resolve) => {\r\n                setTimeout(() => {\r\n                resolve();\r\n                if (oldData) {\r\n                    setItem((prevState) => {\r\n                    const data = [...prevState.data];\r\n                    data[data.indexOf(oldData)] = newData;\r\n                    return { ...prevState, data };\r\n                    });\r\n                }\r\n                }, 600);\r\n            }),\r\n            onRowDelete: (oldData) =>\r\n            new Promise((resolve) => {\r\n                setTimeout(() => {\r\n                resolve();\r\n                setItem((prevState) => {\r\n                    const data = [...prevState.data];\r\n                    data.splice(data.indexOf(oldData), 1);\r\n                    return { ...prevState, data };\r\n                });\r\n                }, 600);\r\n            }),\r\n        }}\r\n        />\r\n    </div>   \r\n\r\n    );\r\n\r\n}"]},"metadata":{},"sourceType":"module"}